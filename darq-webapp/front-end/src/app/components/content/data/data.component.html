<div fxFlexFill class="back" fxLayout="column" fxLayoutAlign="start stretch">
	<div style="height: 100px;"></div>
	<div fxFlex fxLayout="column" fxLayoutAlign="start stretch" style="padding: 10px;  width: 100%;">
		<h3 style="color: white; padding : 1.25rem;" class="card-title">Uploaded Aggregate Detections File</h3>
		<div class="card-block">
			<table class="table table-striped table-condensed" style="background-color: bisque;">
				<thead>
				<tr>
					<th style="vertical-align: middle;">Name</th>
					<th style="vertical-align: middle;">Uploaded On</th>
					<th style="vertical-align: middle;">Analysed On</th>
					<th style="vertical-align: middle;">Age</th>
					<th style="vertical-align: middle;">Size</th>
					<th style="vertical-align: middle;">Compatibilities</th>
					<th>
						<div fxLayout="row" fxLayoutAlign="end center">
							<button class="btn btn-primary" style="margin-right: 5px;" [routerLink]="['/data/upload']">
								<i class="fa fa-upload" ></i>
								Upload
							</button>
							<button class="btn btn-danger">
								<i class="fa fa-trash"></i>
								Clear
							</button>
						</div>
					</th>
				</tr>
				</thead>
				<tbody>
				<tr *ngFor="let file of files">
					<td><strong>{{ file.name }}</strong></td>
					<td>{{ file.uploadedOn | date:'yyyy-MM-dd HH:mm' }}</td>
					<td>{{ file.analysedOn | date:'yyyy-MM-dd HH:mm'  }}</td>
					<td>{{ age(file.analysedOn) }}</td>
					<td>{{ file.size }}</td>
					<td fxLayout="column">
						<ng-container *ngIf="file.compatibilities && file.compatibilities.length > 0">
							<span *ngFor="let conf of file.compatibilities" class="badge badge-info" style="border: 1px solid black; margin-bottom: 5px;" >{{conf.owner}} <span class="badge badge-primary">{{conf.name}}</span></span>
						</ng-container>
						<span  *ngIf="!file.compatibilities || file.compatibilities.length === 0" class="badge badge-primary">CUSTOM</span>
					</td>
					<td>
						<div fxLayout="row" fxLayoutAlign="end center">
							<span matTooltip="Analysis Report"><i class="fa fa-file" style="color: cornflowerblue; font-size: 1.5em; margin-right: 10px; cursor: pointer;"></i></span>
							<span [routerLink]="['./'+file.id+'/summary']" matTooltip="Summary"><i class="fa fa-search" style="color: #031a4c; font-size: 1.5em; margin-right: 10px; cursor: pointer;"></i></span>
							<span *ngIf="file.compatibilities && file.compatibilities.length > 0" (click)="openDialog(file.id)" matTooltip="Analyze"><i class="fa fa-bar-chart" style="color: #332bff; font-size: 1.5em; margin-right: 10px; cursor: pointer;"></i></span>
							<span matTooltip="Delete"><i class="fa fa-times" style="color: red; font-size: 1.5em; margin-right: 10px; cursor: pointer;"></i></span>
						</div>
					</td>
				</tr>
				<!--<tr>-->
					<!--<td><strong>MI - TEST - 2</strong></td>-->
					<!--<td>23/02/2018</td>-->
					<!--<td>24/02/2018</td>-->
					<!--<td>20 Mb</td>-->
					<!--<td>2 months</td>-->
					<!--<td>-->
						<!--<span class="badge badge-primary">v1.0.0</span>-->
						<!--<span class="badge badge-primary">v1.5.0</span>-->
					<!--</td>-->
					<!--<td>-->
						<!--<div fxLayout="row" fxLayoutAlign="end center">-->
							<!--<i class="fa fa-file" style="color: cornflowerblue; font-size: 1.5em; margin-right: 10px; cursor: pointer;"></i>-->
							<!--<i class="fa fa-search" style="color: #031a4c; font-size: 1.5em; margin-right: 10px; cursor: pointer;"></i>-->
							<!--<i class="fa fa-times" style="color: red; font-size: 1.5em; margin-right: 10px; cursor: pointer;"></i>-->
						<!--</div>-->
					<!--</td>-->
				<!--</tr>-->
				</tbody>
			</table>
		</div>
	</div>
</div>
